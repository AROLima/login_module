spring:
  datasource:
    url: jdbc:h2:mem:testdb
    username: sa
    password: 
    driver-class-name: org.h2.Driver
  jpa:
    # Para desenvolvimento com H2, criar tabelas automaticamente
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        "format_sql": true
    show-sql: true
  h2:
    console:
      enabled: true
  thymeleaf:
    cache: false
  flyway:
    enabled: false
  mail:
    host: sandbox.smtp.mailtrap.io
    port: 2525
    username: 02f91f661badbc
    password: 3b44e5a204ac35
    properties:
      "mail.smtp.auth": true
      "mail.smtp.starttls.enable": true

app:
  jwt:
    issuer: example-auth            # claim "iss" do token
    access-ttl-min: 15              # tempo do access (min)
    refresh-ttl-days: 7             # tempo do refresh (dias)
    # Secret em Base64 (≥256 bits). Produção: usar env JWT_SECRET
    secret: ${JWT_SECRET:VGhpcy1pcy1qd3Qtc2VjcmV0LWJhc2U2NC1wbGFjZWhvbGRlci0xMjM0NTY3ODkwMTIzNDU2}
  cookies:
    domain: localhost               # ajuste no deploy (ex.: .minhaapp.com)
    secure: false                   # true em produção (HTTPS)
    same-site: Lax                  # Lax para formulários; cross-site real: None+Secure
  security:
    reset-token-expiration-minutes: 30
    base-url: http://localhost:8080
